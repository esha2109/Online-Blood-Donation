/* ======================================================= 
 * Multi Purpose Media Boxes
 * By David Blanco
 *
 * Contact: http://codecanyon.net/user/davidbo90
 *
 * Created: June 26, 2013
 *
 * Copyright (c) 2013, David Blanco. All rights reserved.
 * Released under CodeCanyon License http://codecanyon.net/
 *
 * Note: Script based in jQuery Masonry v2.1.07 made by David DeSandro http://masonry.desandro.com/ (under MIT)
 *
 * ======================================================= */

/*!
 * imagesLoaded PACKAGED v3.0.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
;
/*!
 * EventEmitter v4.2.4 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(){function N(){}var E=N.prototype;function I(b,a){var c=b.length;while(c--){if(b[c].listener===a){return c}}return -1}function G(b){return function a(){return this[b].apply(this,arguments)}}E.getListeners=function w(c){var d=this._getEvents();var b;var a;if(typeof c==="object"){b={};for(a in d){if(d.hasOwnProperty(a)&&c.test(a)){b[a]=d[a]}}}else{b=d[c]||(d[c]=[])}return b};E.flattenListeners=function y(a){var c=[];var b;for(b=0;b<a.length;b+=1){c.push(a[b].listener)}return c};E.getListenersAsObject=function L(c){var a=this.getListeners(c);var b;if(a instanceof Array){b={};b[c]=a}return b||a};E.addListener=function K(c,e){var a=this.getListenersAsObject(c);var d=typeof e==="object";var b;for(b in a){if(a.hasOwnProperty(b)&&I(a[b],e)===-1){a[b].push(d?e:{listener:e,once:false})}}return this};E.on=G("addListener");E.addOnceListener=function P(b,a){return this.addListener(b,{listener:a,once:true})};E.once=G("addOnceListener");E.defineEvent=function A(a){this.getListeners(a);return this};E.defineEvents=function z(b){for(var a=0;a<b.length;a+=1){this.defineEvent(b[a])}return this};E.removeListener=function O(c,d){var e=this.getListenersAsObject(c);var b;var a;for(a in e){if(e.hasOwnProperty(a)){b=I(e[a],d);if(b!==-1){e[a].splice(b,1)}}}return this};E.off=G("removeListener");E.addListeners=function D(b,a){return this.manipulateListeners(false,b,a)};E.removeListeners=function x(b,a){return this.manipulateListeners(true,b,a)};E.manipulateListeners=function J(c,b,e){var g;var a;var f=c?this.removeListener:this.addListener;var d=c?this.removeListeners:this.addListeners;if(typeof b==="object"&&!(b instanceof RegExp)){for(g in b){if(b.hasOwnProperty(g)&&(a=b[g])){if(typeof a==="function"){f.call(this,g,a)}else{d.call(this,g,a)}}}}else{g=e.length;while(g--){f.call(this,b,e[g])}}return this};E.removeEvent=function B(c){var d=typeof c;var a=this._getEvents();var b;if(d==="string"){delete a[c]}else{if(d==="object"){for(b in a){if(a.hasOwnProperty(b)&&c.test(b)){delete a[b]}}}else{delete this._events}}return this};E.removeAllListeners=G("removeEvent");E.emitEvent=function v(d,b){var a=this.getListenersAsObject(d);var g;var e;var f;var c;for(f in a){if(a.hasOwnProperty(f)){e=a[f].length;while(e--){g=a[f][e];if(g.once===true){this.removeListener(d,g.listener)}c=g.listener.apply(this,b||[]);if(c===this._getOnceReturnValue()){this.removeListener(d,g.listener)}}}}return this};E.trigger=G("emitEvent");E.emit=function F(b){var a=Array.prototype.slice.call(arguments,1);return this.emitEvent(b,a)};E.setOnceReturnValue=function H(a){this._onceReturnValue=a;return this};E._getOnceReturnValue=function C(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};E._getEvents=function M(){return this._events||(this._events={})};if(typeof define==="function"&&define.amd){define(function(){return N})}else{if(typeof module==="object"&&module.exports){module.exports=N}else{this.EventEmitter=N}}}.call(this));
/*!
 * eventie v1.0.3
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */
(function(i){var g=document.documentElement;var h=function(){};if(g.addEventListener){h=function(a,b,c){a.addEventListener(b,c,false)}}else{if(g.attachEvent){h=function(a,b,c){a[b+c]=c.handleEvent?function(){var d=i.event;d.target=d.target||d.srcElement;c.handleEvent.call(c,d)}:function(){var d=i.event;d.target=d.target||d.srcElement;c.call(a,d)};a.attachEvent("on"+b,a[b+c])}}}var j=function(){};if(g.removeEventListener){j=function(a,b,c){a.removeEventListener(b,c,false)}}else{if(g.detachEvent){j=function(a,c,d){a.detachEvent("on"+c,a[c+d]);try{delete a[c+d]}catch(b){a[c+d]=undefined}}}}var f={bind:h,unbind:j};if(typeof define==="function"&&define.amd){define(f)}else{i.eventie=f}})(this);
/*!
 * imagesLoaded v3.0.4
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(m){var o=m.jQuery;var p=m.console;var r=typeof p!=="undefined";function l(b,c){for(var a in c){b[a]=c[a]}return b}var j=Object.prototype.toString;function n(a){return j.call(a)==="[object Array]"}function q(a){var b=[];if(n(a)){b=a}else{if(typeof a.length==="number"){for(var c=0,d=a.length;c<d;c++){b.push(a[c])}}else{b.push(a)}}return b}function k(a,c){function b(g,h,i){if(!(this instanceof b)){return new b(g,h)}if(typeof g==="string"){g=document.querySelectorAll(g)}this.elements=q(g);this.options=l({},this.options);if(typeof h==="function"){i=h}else{l(this.options,h)}if(i){this.on("always",i)}this.getImages();if(o){this.jqDeferred=new o.Deferred()}var f=this;setTimeout(function(){f.check()})}b.prototype=new a();b.prototype.options={};b.prototype.getImages=function(){this.images=[];for(var i=0,x=this.elements.length;i<x;i++){var h=this.elements[i];if(h.nodeName==="IMG"){this.addImage(h)}var f=h.querySelectorAll("img");for(var v=0,g=f.length;v<g;v++){var w=f[v];this.addImage(w)}}};b.prototype.addImage=function(g){var f=new e(g);this.images.push(f)};b.prototype.check=function(){var f=this;var u=0;var h=this.images.length;this.hasAnyBroken=false;if(!h){this.complete();return}function i(s,t){if(f.options.debug&&r){p.log("confirm",s,t)}f.progress(s);u++;if(u===h){f.complete()}return true}for(var v=0;v<h;v++){var g=this.images[v];g.on("confirm",i);g.check()}};b.prototype.progress=function(g){this.hasAnyBroken=this.hasAnyBroken||!g.isLoaded;var f=this;setTimeout(function(){f.emit("progress",f,g);if(f.jqDeferred){f.jqDeferred.notify(f,g)}})};b.prototype.complete=function(){var g=this.hasAnyBroken?"fail":"done";this.isComplete=true;var f=this;setTimeout(function(){f.emit(g,f);f.emit("always",f);if(f.jqDeferred){var h=f.hasAnyBroken?"reject":"resolve";f.jqDeferred[h](f)}})};if(o){o.fn.imagesLoaded=function(g,f){var h=new b(this,g,f);return h.jqDeferred.promise(o(this))}}var d={};function e(f){this.img=f}e.prototype=new a();e.prototype.check=function(){var g=d[this.img.src];if(g){this.useCached(g);return}d[this.img.src]=this;if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}var f=this.proxyImage=new Image();c.bind(f,"load",this);c.bind(f,"error",this);f.src=this.img.src};e.prototype.useCached=function(g){if(g.isConfirmed){this.confirm(g.isLoaded,"cached was confirmed")}else{var f=this;g.on("confirm",function(h){f.confirm(h.isLoaded,"cache emitted confirmed");return true})}};e.prototype.confirm=function(g,f){this.isConfirmed=true;this.isLoaded=g;this.emit("confirm",this,f)};e.prototype.handleEvent=function(g){var f="on"+g.type;if(this[f]){this[f](g)}};e.prototype.onload=function(){this.confirm(true,"onload");this.unbindProxyEvents()};e.prototype.onerror=function(){this.confirm(false,"onerror");this.unbindProxyEvents()};e.prototype.unbindProxyEvents=function(){c.unbind(this.proxyImage,"load",this);c.unbind(this.proxyImage,"error",this)};return b}if(typeof define==="function"&&define.amd){define(["eventEmitter/EventEmitter","eventie/eventie"],k)}else{m.imagesLoaded=k(m.EventEmitter,m.eventie)}})(window);(function(e,f,g){var b=f.event,a=f.event.handle?"handle":"dispatch",d;b.special.smartresize={setup:function(){f(this).bind("resize",b.special.smartresize.handler)},teardown:function(){f(this).unbind("resize",b.special.smartresize.handler)},handler:function(k,h){var j=this,i=arguments;k.type="smartresize";if(d){clearTimeout(d)}d=setTimeout(function(){b[a].apply(j,i)},h==="execAsap"?0:100)}};f.fn.smartresize=function(h){return h?this.bind("smartresize",h):this.trigger("smartresize",["execAsap"])};f.MediaBoxes=function(h,i){this.element=f(i);this._create(h);this._init()};f.MediaBoxes.settings={isResizable:true,isAnimated:false,animationOptions:{queue:false,duration:500,complete:function(){var h=f(this);if(h.hasClass("noSupportTransform")&&h.hasClass("mediaBoxes-brick")){f.fn.mediaBoxes.settings.loadIframes(this)}if(!h.hasClass("mediaBoxes-brick")){if(h.hasClass("lazyLoad")){f.waypoints("refresh")}if(h.hasClass("mediaBoxes-with-loading-boxes")){h.removeClass("mediaBoxes-with-loading-boxes");h.addClass("completeAddingImages")}}}},gutterWidth:0,isRTL:false,isFitWidth:false,containerStyle:{position:"relative"}};f.MediaBoxes.prototype={_filterFindBricks:function(i){var h=this.options.itemSelector;return !h?i:i.filter(h).add(i.find(h))},_getBricks:function(i){var h=this._filterFindBricks(i).css({position:"absolute"}).addClass("mediaBoxes-brick");return h},_create:function(k){this.options=f.extend(true,{},f.MediaBoxes.settings,k);this.styleQueue=[];var j=this.element[0].style;this.originalStyle={height:j.height||""};var l=this.options.containerStyle;for(var n in l){this.originalStyle[n]=j[n]||""}this.element.css(l);this.horizontalDirection=this.options.isRTL?"right":"left";var i=this.element.css("padding-"+this.horizontalDirection);var m=this.element.css("padding-top");this.offset={x:i?parseInt(i,10):0,y:m?parseInt(m,10):0};this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth==="function";var h=this;setTimeout(function(){h.element.addClass("mediaBoxes")},0);if(this.options.isResizable){f(e).bind("smartresize.mediaBoxes",function(){h.resize()})}this.reloadItems()},_init:function(h){this._getColumns();this._reLayout(h)},option:function(h,i){if(f.isPlainObject(h)){this.options=f.extend(true,this.options,h)}},layout:function(s,w){for(var p=0,q=s.length;p<q;p++){this._placeBrick(s[p])}var h={};h.height=Math.max.apply(Math,this.colYs);if(this.options.isFitWidth){var n=0;p=this.cols;while(--p){if(this.colYs[p]!==0){break}n++}h.width=(this.cols-n)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:h});var k=!this.isLaidOut?"css":(this.options.isAnimated?"animate":"css"),m=this.options.animationOptions;var o;for(p=0,q=this.styleQueue.length;p<q;p++){o=this.styleQueue[p];k=!this.isLaidOut?"css":(this.options.isAnimated?"animate":"css");var r=o.$el.hasClass("loading-box");if(r&&!this.element.hasClass("noSupportTransform")){k="css"}o.$el.removeClass("loading-box");var l=o.$el.css("left");var u=o.$el.css("top");var v=o.style.left+"px";var t=o.style.top+"px";if((l==v&&u==t)||r==true){o.$el.data("moving",false)}else{o.$el.data("moving",true)}var j=500;o.$el[k](o.style,m)}this.styleQueue=[];if(w){w.call(s)}this.isLaidOut=true},_getColumns:function(){var h=this.options.isFitWidth?this.element.parent():this.element,i=h.width();this.columnWidth=this.isFluid?this.options.columnWidth(i):this.options.columnWidth||this.$bricks.outerWidth(true)||i;this.columnWidth+=this.options.gutterWidth;this.cols=Math.floor((i+this.options.gutterWidth)/this.columnWidth);this.cols=Math.max(this.cols,1)},_placeBrick:function(q){var o=f(q),s,w,l,u,m;s=Math.ceil(o.outerWidth(true)/this.columnWidth);s=Math.min(s,this.cols);if(s===1){l=this.colYs}else{w=this.cols+1-s;l=[];for(m=0;m<w;m++){u=this.colYs.slice(m,m+s);l[m]=Math.max.apply(Math,u)}}var h=Math.min.apply(Math,l),v=0;for(var n=0,r=l.length;n<r;n++){if(l[n]===h){v=n;break}}var p={top:h+this.offset.y};p[this.horizontalDirection]=this.columnWidth*v+this.offset.x;this.styleQueue.push({$el:o,style:p});var t=h+o.outerHeight(true),k=this.cols+1-r;for(n=0;n<k;n++){this.colYs[v+n]=t}},resize:function(){var h=this.cols;this._getColumns();if(this.isFluid||this.cols!==h){this._reLayout()}},_reLayout:function(j){var h=this.cols;this.colYs=[];while(h--){this.colYs.push(0)}this.layout(this.$bricks,j)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(h){this.reloadItems();this._init(h)},appended:function(i,k,l){var j=this.element.width();this.options.columnWidth(j);if(k){this._filterFindBricks(i).css({top:this.element.height()});var h=this;setTimeout(function(){h._appended(i,l)},1)}else{this._appended(i,l)}},_appended:function(h,j){var i=this._getBricks(h);this.$bricks=this.$bricks.add(i);this.layout(i,j)},remove:function(h){this.$bricks=this.$bricks.not(h);h.remove()},destroy:function(){this.$bricks.removeClass("mediaBoxes-brick").each(function(){this.style.position="";this.style.top="";this.style.left=""});var h=this.element[0].style;for(var i in this.originalStyle){h[i]=this.originalStyle[i]}this.element.unbind(".mediaBoxes").removeClass("mediaBoxes").removeData("mediaBoxes");f(e).unbind(".mediaBoxes")}};var c=function(h){if(e.console){e.console.error(h)}};f.fn.mediaBoxes=function(j){var i=function(o){var m=f.extend({},f.fn.mediaBoxes.defaults,j);if(j==g){j={}}j.isFitWidth=m.isFitWidth;j.isAnimated=m.isAnimated;j.itemSelector=".box";j.gutterWidth=m.horizontalSpaceBetweenThumbnails;var p=f(o).addClass("centered").addClass("mediaBoxes-clearfix");var n=m.columnWidth;if(n=="auto"){j.columnWidth=function(v){var x=-999;for(var s=m.columns;s>=1;s--){if(x<m.columnMinWidth){x=(((v-(s-1)*j.gutterWidth)/s)|0)}}var u=p.find("div.box").width(x);var t=u.find(".box-iframe");var q=t.width();var w=t.height();var r=(w*x)/q;t.width(x);t.height(r);return x}}else{if((typeof n)!="function"){j.columnWidth=function(u){var w=n;var t=p.find("div.box").width(w);var s=t.find("iframe.box-iframe");var q=s.width();var v=s.height();var r=(v*w)/q;s.width(w);s.height(r);return w}}}p.find("div.box").css("margin-bottom",m.verticalSpaceBetweenThumbnails);var l=(function(){var s=document.createElement("div"),r="Khtml ms O Moz Webkit".split(" "),q=r.length;return function(t){if(t in s.style){return true}t=t.replace(/^[a-z]/,function(u){return u.toUpperCase()});while(q--){if(r[q]+t in s.style){return true}}return false}})();if(!l("transform")){p.addClass("noSupportTransform")}else{p.addClass("visible")}};var k=function(D){var M=f.extend({},f.fn.mediaBoxes.defaults,j);var w=f(D);var ai=w.find(".box");var z=Array();function ag(aD,aC){this.category=aD;this.index=aC}ai.each(function(aD){D=f(this);var aC=D.data("category");if(aC==g){aC="all"}var aE=new ag(aC,aD);z.push(aE)});var S=Array();for(var x in z){var p=z[x];if(p.category=="all"){continue}var C=false;for(var av=0;av<S.length;av++){if(S[av]==p.category){C=true}}if(C==false){S.push(p.category)}}f(".mediaBoxes-extracategories").each(function(){S.push(f(this).data("category"))});var L=f('<ul class="category-navbar" />').hide().insertBefore(w);var R=f("<li />").data("category","all").appendTo(L).addClass("select");var R=f("<a />").html(M.allWord).appendTo(R);for(var av=0;av<S.length;av++){var R=f("<li />").data("category",S[av]).appendTo(L);var R=f("<a />").html(S[av]).appendTo(R)}L.addClass(M.theme);w.addClass(M.theme);var al=function(aD,aE){for(var aC=0;aC<aD.length;aC++){aD[aC].each(function(){var aF=f(this).removeClass("noTransform");if(aF.hasClass("mediaBoxes-brick")){if(aF.is(":hidden")){if(w.hasClass("noSupportTransform")){aF.show()}else{aF.show();if(aF.data("moving")==false){aF.animate(M.hiddenStyle,0);aF.animate(M.visibleStyle,j.animOpts,function(){aF.addClass("noTransform");f.fn.mediaBoxes.settings.loadIframes(aF)})}else{aF.animate(M.visibleStyle,0);aF.addClass("noTransform")}}}else{aF.animate(M.visibleStyle,j.animOpts,function(){aF.addClass("noTransform");f.fn.mediaBoxes.settings.loadIframes(aF)})}}})}for(var aC=0;aC<aE.length;aC++){aE[aC].each(function(){var aF=f(this).removeClass("noTransform");if(aF.is(":hidden")==false){aF.addClass("box");if(w.hasClass("noSupportTransform")){aF.hide();aF.removeClass("box")}else{aF.animate(M.visibleStyle,0);aF.animate(M.hiddenStyle,j.animOpts,function(){aF.hide();aF.removeClass("box")})}}else{}})}};L.on("click","a",function(aK){aK.preventDefault();var aH=jQuery(this);if(aH.parent("li").hasClass("select")){return}w.removeClass("completeAddingImages");w.addClass("mediaBoxes-with-loading-boxes");aH.parent("li").addClass("select").siblings("li").removeClass("select");var aF=w;var aD=aH.parent("li").data("category");var aI=[];var aG=[];if(aD=="all"){var aJ=aF.children('div[data-show="yes"]').addClass("box mediaBoxes-brick").stop();if(w.hasClass("noSupportTransform")){aJ.css({top:200,left:200})}aI.push(aJ)}else{var aE=aF.children('div[data-others*="-'+aD+'-"][data-show="yes"]').addClass("box mediaBoxes-brick");var aC=aF.children('div[data-category="'+aD+'"][data-show="yes"]').addClass("box mediaBoxes-brick");if(aE[0]!=g){if(w.hasClass("noSupportTransform")){aE.css({top:200,left:200})}aI.push(aE.stop())}if(aC[0]!=g){if(w.hasClass("noSupportTransform")){aC.css({top:200,left:200})}aI.push(aC.stop())}aG.push(aF.children("div").not('.box[data-others*="-'+aD+'-"]').not('.box[data-category="'+aD+'"]').removeClass("box mediaBoxes-brick").stop())}w.mediaBoxes("reload");al(aI,aG);y(u(at()))});if(typeof S!="object"||S.length==0||M.showFilterBar==false){}else{if(M.noAll&&false){L.children("li").eq(0).hide()}L.slideDown(400)}var aw=f("<div />").insertAfter(w);var Q=function(){aw.addClass("mediaBoxes-loader").removeClass("mediaBoxes-loadMore").html("")};var aa=function(){aw.removeClass("mediaBoxes-loader")};var y=function(aC){if(aC){aw.addClass("mediaBoxes-loadMore").html(M.loadMoreWord)}else{aw.removeClass("mediaBoxes-loadMore").html("")}};var u=function(aE){var aC=0;for(var aD in z){if(aE=="all"){aC++}else{var aF=z[aD];if(aF.category==aE){aC++}}}if(aC>0){return true}else{return false}};var at=function(){var aC=L.find("li[class=select]").data("category");return aC};var l=function(){var aC=at();if(aC!="all"){w.children("div").not('.box[data-others*="-'+aC+'-"]').not('.box[data-category="'+aC+'"]').removeClass("box mediaBoxes-brick").hide()}};var az=[];var o=true;var E=true;var aA=function(aF){var aD=at();if(E){w.height(0);E=false}Q();var aC=0;var aE=f.extend({},z);for(var aG in aE){var aH=aE[aG];if(aD=="all"){}else{if(aD!=aH.category){continue}}aC++;if(aC>aF){break}D=ai.eq(aH.index);D.addClass("box mediaBoxes-brick").attr("data-show","yes").hide().css({top:200,left:200});D.addClass("loading-box");D.find(".box-image").each(function(){var aK=f(this);var aL=aK.find("div[data-thumbnail]").data("thumbnail");var aJ=aK.find("div[data-image]").data("image");if(aL==g){aL=aJ}var aI=f('<img src="'+aL+'" data-lightbox="'+aJ+'" />');aK.prepend(aI)});D.find(".box-video").each(function(){f(this).append(f("<div class='video-circle'><div class='video-arrow'></div></div>"))});D.find("div.box-iframe").each(function(){var aJ=f(this);for(av=0;av<aJ[0].attributes.length;av++){var aI=aJ[0].attributes[av];if(aI.name=="width"){aJ.css("width",aI.value)}else{if(aI.name=="height"){aJ.css("height",aI.value)}}}});az.push(D);delete z[aG]}w.imagesLoaded(function(){if(o&&M.noAll){if(M.defaultCategory=="all"){L.children("li").eq(1).css("marginLeft","7px").addClass("select").siblings("li").removeClass("select")}else{L.children("li").each(function(){var aI=f(this);if(aI.data("category")==M.defaultCategory){aI.css("marginLeft","7px").addClass("select").siblings("li").removeClass("select")}})}o=false}else{if(o&&M.defaultCategory!="all"){L.children("li").each(function(){var aI=f(this);if(aI.data("category")==M.defaultCategory){aI.addClass("select").siblings("li").removeClass("select")}});o=false}}l();w.addClass("mediaBoxes-with-loading-boxes");w.mediaBoxes("reload");al(az,[]);aa();y(u(at()))})};ai.removeClass("box mediaBoxes-brick").hide();ai.attr("data-show","no");aA(M.imagesToLoadStart);var au=function(){if(aw.hasClass("mediaBoxes-loadMore")){aA(M.imagesToLoad)}};aw.on("click",function(){au()});if(M.lazyLoad){w.addClass("lazyLoad");w.waypoint(function(aD){var aC=f(this);if(aC.hasClass("completeAddingImages")){if(aw.hasClass("mediaBoxes-loadMore")){au();aC.removeClass("completeAddingImages")}}},{context:e,continuous:true,enabled:true,horizontal:false,offset:"bottom-in-view",triggerOnce:false})}var K=function(aE){var aG=aE.find(".hover-text").hide();var aC=aE.find(".hover-lightbox").hide();var aF=aE.find(".hover-iframe").hide();var aD=aE.find(".hover-url").hide()};var q=function(aE){var aG=aE.find(".hover-text").stop().fadeIn(M.hoverImageIconsSpeedAnimation);var aC=aE.find(".hover-lightbox").stop().fadeIn(M.hoverImageIconsSpeedAnimation);var aF=aE.find(".hover-iframe").stop().fadeIn(M.hoverImageIconsSpeedAnimation);var aD=aE.find(".hover-url").stop().fadeIn(M.hoverImageIconsSpeedAnimation);if(!aC.hasClass("noAnimation")&&M.hoverImageIconsAnimation){aC.css({top:"-20px"});aC.animate({top:0},{queue:false,duration:M.hoverImageIconsSpeedAnimation});aF.css({top:"-20px"});aF.animate({top:0},{queue:false,duration:M.hoverImageIconsSpeedAnimation})}if(!aD.hasClass("noAnimation")&&M.hoverImageIconsAnimation){aD.css({top:"20px"});aD.animate({top:0},{queue:false,duration:M.hoverImageIconsSpeedAnimation})}};w.on("mouseenter.hoverdir, mouseleave.hoverdir","div.box-image",function(aH){if(!M.caption){return}var aF=f(this),aG=aH.type,aE=aF.find("div.thumbnail-caption"),aI=n(aF,{x:aH.pageX,y:aH.pageY}),aD=ap(aI,aF);var aJ=aE.children("div.aligment");if(aJ[0]==g){var aC=aE.html();aE.html("<div class='aligment'><div class='aligment'>"+aC+"</div></div>")}if(aG==="mouseenter"){K(aF);if(M.captionType=="classic"){aE.css({left:0,top:0});aE.fadeIn(300);q(aF);return}aE.css({left:aD.from,top:aD.to});aE.stop().show().fadeTo(0,1,function(){f(this).stop().animate({top:0,left:0},200,"linear",function(){q(aF)})})}else{if(M.captionType=="classic"){aE.css({left:0,top:0});aE.fadeOut(100);return}if(M.captionType=="grid-fade"){aE.fadeOut(700)}else{aE.stop().animate({left:aD.from,top:aD.to},200,"linear",function(){aE.hide().fadeTo(0,0)})}}});var n=function(aE,aH){var aD=aE.width(),aF=aE.height(),aC=(aH.x-aE.offset().left-(aD/2))*(aD>aF?(aF/aD):1),aI=(aH.y-aE.offset().top-(aF/2))*(aF>aD?(aD/aF):1),aG=Math.round((((Math.atan2(aI,aC)*(180/Math.PI))+180)/90)+3)%4;return aG};var ap=function(aE,aD){var aF,aC;switch(aE){case 0:if(!M.reverse){aF=0,aC=-aD.height()}else{aF=0,aC=-aD.height()}break;case 1:if(!M.reverse){aF=aD.width(),aC=0}else{aF=-aD.width(),aC=0}break;case 2:if(!M.reverse){aF=0,aC=aD.height()}else{aF=0,aC=-aD.height()}break;case 3:if(!M.reverse){aF=-aD.width(),aC=0}else{aF=aD.width(),aC=0}break}return{from:aF,to:aC}};var ad=f("body");var an={interval:"none"};var s=0;var W=f('<div class="mediaBoxes-lightbox" />').appendTo(ad);var ac=f('<div class="mediaBoxes-nav" />').appendTo(W);var af=f('<div class="mediaBoxes-close" />').appendTo(ac);var Z=f('<i class="iconClose" />').appendTo(af);var G=f('<div class="mediaBoxes-play" />');if(M.lightboxPlayBtn){G.appendTo(ac)}var N=f('<i class="iconPlay" />').appendTo(G);var ak=f('<div class="mediaBoxes-lbcaption" />').appendTo(ac).html("Here will go the text for the lightbox");var aq=f('<div class="mediaBoxes-next" />').appendTo(ac);var ay=f('<i class="iconNext" />').appendTo(aq);var J=f('<div class="mediaBoxes-prev" />').appendTo(ac);var P=f('<i class="iconPrev" />').appendTo(J);var aj=f('<div class="lightbox-timer" />').appendTo(W);var v=af.width();var ae=3;if(M.lightboxPlayBtn){ae=4}var m=function(){var aF=W.outerWidth();if(aF<650){ak.hide();aq.css("width",(aF/ae));J.css("width",(aF/ae));G.css("width",(aF/ae));af.css("width",aF-((aF/ae)*(ae-1)))}else{ak.show();aq.css("width",v);J.css("width",v);G.css("width",v);af.css("width",v)}var aC=W.find("img");var aE=W.outerHeight()-ac.outerHeight();aC.css("max-height",aE);var aD=W.find("iframe");var aE=W.outerHeight()-ac.outerHeight();if(aE!=0){aD.css("max-height",aE)}else{aD.css("max-height","none")}};jQuery(e).resize(function(){m()});var Y=new Image();var ab=function(){if(Y!=null){Y.onload=null;Y=null}W.find(".lightbox-alignment").remove();W.find(".lightbox-alignment2").remove();W.find("img").remove()};var t=function(){W.find("iframe").remove()};var U=function(){W.find(".lb-loader").remove()};var I=function(){W.append('<div class="lb-loader"/>')};W.attr("unselectable","on").css("user-select","none").on("selectstart",false);var T=function(){aj.stop(true,true).width(0)};var ax=function(){clearInterval(an.interval)};var H=function(){if(M.lightBoxShowTimer==false){return}aj.css({position:"absolute",bottom:0}).animate({width:"100%"},M.lightBoxPlayInterval,"linear",function(){T()})};var aB=false;var ah=false;var V=function(){an.interval=setTimeout(function(){r()},M.lightBoxPlayInterval);H()};var F=function(){if(aB&&ah==false){T();ax();V()}};var B=function(aD){if(aD[0]!=g){var aH=aD;var aC=f("<iframe ></iframe>");var aI=aH[0];for(var aF=0;aF<aI.attributes.length;aF++){var aE=aI.attributes[aF];aC.attr(aE.name,aE.value)}W.append(aC.hide());var aG=aC[0];if(aG.attachEvent){aG.attachEvent("onload",function(){U();aC.fadeIn(M.lightBoxSpeedFx,function(){F()});m();Y=new Image()})}else{aG.onload=function(){U();aC.fadeIn(M.lightBoxSpeedFx,function(){F()});m();Y=new Image()}}return true}return false};var ao=f("<span />");var O=function(aJ,aN,aD,aK){ab();t();U();I();var aH=0;var aI=0;if(aD!=true){aH=0.9;aI=M.lightBoxSpeedFx}if(M.lightBoxZoomAnim==false){aH=1}var aE=aJ;var aF=aE.data("lightbox");var aO=aE.siblings("div.lightbox-text").html();if(M.lightBoxText==false){aO=""}var aM="<div><div>"+aO+"</div></div>";ak.html(aM);var aG=aN.find("div.lightbox-iframe");if(aK||aF==null){if(B(aG)){return}}if(aF==null){aF=aE.attr("src")}Y=new Image();var aC=f(Y);var aL=Y;Y.onload=function(){if(aL!=Y){return}U();var aQ=f('<div class="lightbox-alignment"></div>').appendTo(W);var aP=f('<div class="lightbox-alignment2"></div>').appendTo(aQ);aP.append(aC.css("margin-top",-ac.outerHeight()).hide().scale(aH));aC.fadeIn(aI).animate({scale:"1"},{duration:M.lightBoxSpeedFx,complete:function(){F()}});m()};Y.src=aF;ao.stop(true);ao=f(Y)};var ar=false;var A=function(aH,aE){ar=true;var aI=f(aH);var aG=f(aH).parents("div.box");var aD=aG.data("url");if(aD!=g){location.href=aD;return}if(M.lightBox==false){return}ah=false;s=w.find(".box").index(aG[0]);var aC=aI.parents(".box").find(".box-image").children("img");var aF=M.lightBoxSpeedFx;if(aE){aF=0}ac.animate({"margin-top":0},aF);W.fadeIn(aF);O(aC,aG,true,aE)};w.on("click","div.box .open-lightbox",function(){A(this)});w.on("click","div.box .open-lightbox-iframe",function(){A(this,true)});W.on("click","div",function(aC){aC.stopPropagation()});W.on("click","img",function(aC){aC.stopPropagation()});W.on("click",".lightbox-alignment",function(){am()});W.on("click",".lightbox-alignment2",function(){am()});W.on("click",function(){am()});af.on("click",function(){am()});var am=function(){t();if(M.lightBoxStopPlayOnClose){G.removeClass("selected");aB=false}ar=false;ah=true;T();ax();W.find(".lb-loader").remove();var aD=0;if(M.lightBoxZoomAnim==false){aD=1}var aC=W.find("img").stop().show();ac.animate({"margin-top":-ac.outerHeight()},M.lightBoxSpeedFx);if(aC[0]!=g){aC.animate({scale:aD},M.lightBoxSpeedFx,function(){W.fadeOut(100)})}else{W.fadeOut(100)}};var r=function(){ah=false;var aF=w.find(".box");s+=1;if(s>=aF.length){s=0}if(!aF.eq(s).is(":visible")||aF.eq(s).find(".box-image").children("img")[0]==g){var aC=s;for(var aE=0;aE<aF.length;aE++){aC++;if(aC>=aF.length){aC=0}if(aF.eq(aC).is(":visible")&&aF.eq(aC).find(".box-image").children("img")[0]!=g){s=aC;break}}}var aG=aF.eq(s);var aD=aG.find(".box-image").children("img");O(aD,aG)};var X=function(){ah=false;var aF=w.find(".box");s-=1;if(s<0){s=aF.length-1}if(!aF.eq(s).is(":visible")||aF.eq(s).find(".box-image").children("img")[0]==g){var aC=s;for(var aE=0;aE<aF.length;aE++){aC--;if(aC<0){aC=aF.length-1}if(aF.eq(aC).is(":visible")&&aF.eq(aC).find(".box-image").children("img")[0]!=g){s=aC;break}}}var aG=aF.eq(s);var aD=aG.find(".box-image").children("img");O(aD,aG)};aq.on("click",function(){T();ax();r()});W.on("click","img",function(){T();ax();r()});J.on("click",function(){T();ax();X()});f(document).keyup(function(aC){if(!M.lightboxKeyboardNav){return}if(aC.keyCode=="37"){if(ar==false){return}T();ax();X()}if(aC.keyCode=="39"){if(ar==false){return}T();ax();r()}if(aC.keyCode==27){am()}});if(M.lightBoxAutoPlay){G.addClass("selected");aB=true}G.on("click",function(){D=f(this);if(D.hasClass("selected")){D.removeClass("selected");aB=false;T();ax()}else{D.addClass("selected");aB=true;V()}})};f.fn.mediaBoxes.settings={loadIframes:function(q){var p=f(q);var m=p.find("div.box-iframe");var t=p.find("iframe.box-iframe");if(m[0]!=g&&t[0]==g){var n=m;var r=f("<iframe ></iframe>");var l=n[0];for(var o=0;o<l.attributes.length;o++){var s=l.attributes[o];r.attr(s.name,s.value)}m.hide();r.insertAfter(n)}}};if(typeof j==="string"){var h=Array.prototype.slice.call(arguments,1);this.each(function(){var l=f.data(this,"mediaBoxes");if(!l){c("cannot call methods on mediaBoxes prior to initialization; attempted to call method '"+j+"'");return}if(!f.isFunction(l[j])||j.charAt(0)==="_"){c("no such method '"+j+"' for mediaBoxes instance");return}l[j].apply(l,h)})}else{this.each(function(){var l=f.data(this,"mediaBoxes");if(l){l.option(j||{});l._init()}else{i(this);f.data(this,"mediaBoxes",new f.MediaBoxes(j,this));k(this)}})}return this};f.fn.mediaBoxes.defaults={theme:"",showFilterBar:true,imagesToLoad:4,imagesToLoadStart:8,lazyLoad:true,isFitWidth:false,horizontalSpaceBetweenThumbnails:15,verticalSpaceBetweenThumbnails:15,columnWidth:"auto",columns:5,columnMinWidth:220,isAnimated:true,caption:true,captionType:"grid",hoverImageIconsAnimation:true,hoverImageIconsSpeedAnimation:100,lightBox:true,lightboxKeyboardNav:true,lightBoxSpeedFx:500,lightBoxZoomAnim:true,lightBoxText:true,lightboxPlayBtn:true,lightBoxAutoPlay:false,lightBoxPlayInterval:4000,lightBoxShowTimer:true,lightBoxStopPlayOnClose:false,allWord:"All",loadMoreWord:"LOAD MORE ENTRIES",noAll:false,defaultCategory:"all",hiddenStyle:{opacity:0,scale:0.001},visibleStyle:{opacity:1,scale:1}}})(window,jQuery);
